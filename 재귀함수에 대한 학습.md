# 재귀 호출에 대한 대화 요약

이 문서는 재귀 함수, 특히 파이썬에서의 문자열 뒤집기를 주제로 나눈 대화의 핵심 내용을 정리한 것입니다.

## 1. 최초의 문제: 왜 `None`이 반환될까?

**질문:** 재귀 함수를 만들었는데, `else` 블록에서 분명히 값을 `return`했음에도 최종 결과로 `None`이 출력됩니다.

**답변:**
파이썬의 모든 함수는 반드시 무언가를 반환합니다. `return`이 명시되지 않은 코드 경로가 끝나면, 파이썬은 자동으로 `None`을 반환합니다.

문제의 코드에서 `if` 블록 안의 재귀 호출(`reverse_string(s)`) 앞에 `return` 키워드가 없었습니다. 이 때문에 재귀의 가장 깊은 곳에서 반환된 값이 상위 호출로 전달되지 못하고 연결이 끊겨, 결국 최초 호출 지점까지 `None`이 전달된 것입니다.

**해결책:** 재귀적으로 함수를 호출하는 모든 지점 앞에 `return`을 붙여주어야 합니다.
`return reverse_string(s)`

---

## 2. `return`의 작동 방식: 한 번에 vs 한 단계씩

**질문:** `return`은 재귀의 가장 마지막에 한 번만 최종 결과를 반환하는 것 아닌가요?

**답변:**
아닙니다. `return`은 **"자신을 호출한 바로 그 상위 함수에게만 값을 전달하는"** 즉각적인 명령입니다. 재귀의 `return`은 가장 깊은 곳에서부터 시작하여, 호출의 역순으로 한 단계씩 거슬러 올라오면서 연쇄적으로 일어납니다.

**비유:** 회사에서 신입사원이 대리에게 보고하고, 대리는 과장에게, 과장은 부장에게 보고하는 연쇄적인 보고 체계와 같습니다. `return`은 바로 위 상사에게만 전달되는 내부 보고서입니다.

---

## 3. 중간 결과값들의 행방

**질문:** 재귀 과정에서 생기는 중간 결과값들(예: 'o', 'ol', 'oll')은 왜 화면에 보이지 않나요? 사라지는 건가요?

**답변:**
사라지는 것이 아닙니다. 중간 결과값들은 상위 함수의 계산식 안에서 **'보이지 않는 재료'**로 사용되고 바로 소모됩니다.

`return reverse_string(s[1:]) + s[0]` 라는 코드에서, `reverse_string(s[1:])`의 반환값은 화면에 출력되지 않고, 오직 `+ s[0]`라는 내부 연산을 위해 잠시 메모리에 머물렀다가 다음 계산의 재료로 사용될 뿐입니다. 우리가 `print()`를 명시적으로 호출하지 않았기 때문에 볼 수 없었던 것입니다.

---

## 4. 재귀의 전체 흐름 (최종 이해)

**질문:** 재귀가 시행될 때마다 전달되는 문자열은 줄어들고, 재귀가 멈추고 돌아오면서 누적된 문자열이 증가하여 반환되는 건가요?

**답변:**
**네, 완벽한 이해입니다.**

1.  **내려가는 길 (호출 단계):** 함수로 전달되는 인자(`s`)는 `s[1:]` 때문에 계속 짧아집니다. 각 단계의 계산(`+ s[0]`)은 실행되지 않고 대기합니다.
2.  **바닥 (중단 조건):** 인자가 `""`(빈 문자열)이 되면 재귀가 멈추고, `""`을 반환하며 돌아가기 시작합니다.
3.  **올라오는 길 (반환/조립 단계):** 돌아오면서 각 단계에서 대기하던 글자들이 뒤에 순서대로 붙습니다. (`""` -> `'o'` -> `'ol'` -> `'oll'` -> `'olle'` -> `'olleh'`). 이 과정에서 반환되는 결과 문자열은 계속 길어집니다.
4.  **최종 결과:** 모든 조립이 끝난 최종 결과물이 최초 호출자에게 반환됩니다.

**핵심 비유:** 재귀 호출은 **"함수 호출이 상자처럼 계속 포개지는 것"**과 같습니다. 가장 안쪽 상자에서부터 시작된 반환값이 바깥 상자로 한 단계씩 전달되면서, 각 상자에 대기하던 재료와 합쳐져 최종 결과물이 완성됩니다.
