# 람다식 (Lambda Expression) 논의 시작

##  람다식 실행 관련 초기 질문

**사용자 질문:**
람다식에 대한 학습을 하고 있는데

```python
x = '점심'
y = 3

print(lambda x,y : x+y)
```

이런 코드를 실행했더니 람다식이 저장된 메모리 주소가 반환됐어, 람다식은 매개변수를 받아서 계산해서 결과를 반환하는 기능이 없는거야?

**답변:**
람다식은 매개변수를 받아서 계산하고 결과를 반환하는 기능을 가지고 있습니다. 다만, 작성하신 코드에서는 람다 함수를 *정의만* 하고 *실행하지* 않았기 때문에, 람다 함수 객체의 메모리 주소가 출력된 것입니다.

람다 함수를 실행하려면 일반 함수처럼 호출해야 합니다.

다음과 같이 코드를 수정하면 람다식이 매개변수를 받아 계산하고 결과를 반환하는 것을 확인할 수 있습니다.

```python
x = '점심'
y = 3

# 람다 함수를 변수에 할당하거나 직접 호출하여 사용합니다.
# 람다 함수를 정의하고 바로 호출
print((lambda a, b: a + b)(x, y))

# 람다 함수를 변수에 할당 후 호출
my_lambda = lambda a, b: a + b
print(my_lambda(x, y))
```

---

## 람다식과 전역 변수

**사용자 질문:**
람다식의 매개변수로 전역변수를 사용할수는 없어?

**답변:**
네, 람다식의 매개변수로 전역 변수를 직접 지정할 수는 없습니다. 람다식의 `arguments` 부분은 함수가 호출될 때 전달받는 인자들을 정의하는 곳입니다.

하지만 람다식은 **정의된 스코프(scope) 내의 전역 변수를 참조(접근)할 수 있습니다.** 즉, 람다식 내부에서 전역 변수를 사용할 수 있다는 의미입니다.

다음 예시를 통해 설명해 드릴게요.

```python
# 전역 변수
global_var = 10

# 람다식 정의
# 이 람다식은 매개변수 x를 받지만, 내부에서 전역 변수 global_var를 참조합니다.
my_lambda = lambda x: x + global_var

# 람다식 실행
result = my_lambda(5)
print(result) # 출력: 15 (5 + 10)

# 전역 변수 변경 후 다시 실행
global_var = 20
result_2 = my_lambda(5)
print(result_2) # 출력: 25 (5 + 20)
```

위 코드에서 `global_var`는 람다식의 매개변수로 선언되지 않았지만, 람다식 내부에서 `global_var`의 값을 읽어와 연산에 사용하고 있습니다.

**핵심:**

*   람다식의 `arguments` 부분은 **함수가 호출될 때 외부에서 전달받는 값**을 위한 자리입니다.
*   람다식은 자신이 정의된 시점의 **스코프 체인(Scope Chain)**에 따라 전역 변수나 외부 스코프의 변수(클로저)에 접근할 수 있습니다.

따라서 "람다식의 매개변수로 전역 변수를 사용할 수 없어?"라는 질문에 대한 정확한 답변은 "매개변수로 직접 선언할 수는 없지만, 람다식 내부에서 전역 변수를 참조하여 사용할 수는 있다" 입니다.

---

# 람다식 (Lambda Expression)

람다식은 파이썬에서 익명 함수(anonymous function)를 생성할 때 사용하는 간결한 문법입니다. `def` 키워드를 사용하여 일반 함수를 정의하는 것과 달리, 람다식은 이름 없이 한 줄로 함수를 정의할 수 있습니다.

## 1. 기본 문법

```python
lambda arguments: expression
```

*   `lambda`: 람다 함수를 정의하는 키워드입니다.
*   `arguments`: 함수가 받을 매개변수들입니다. 여러 개일 수 있으며, 쉼표로 구분합니다. (예: `x, y`, `a, b, c`)
*   `expression`: 람다 함수가 수행할 단 하나의 표현식입니다. 이 표현식의 결과가 함수의 반환값이 됩니다.

## 2. 람다식의 특징

1.  **익명성 (Anonymous):** 람다 함수는 이름이 없습니다. 필요할 때 즉석에서 정의하여 사용하고 버려지는 일회성 함수에 가깝습니다.
2.  **단일 표현식 (Single Expression):** 람다 함수는 오직 하나의 표현식만을 포함할 수 있습니다. 즉, 내부에 여러 줄의 코드나 `if`, `for`, `while` 같은 제어문, 변수 할당(`=`) 등을 사용할 수 없습니다.
3.  **자동 반환 (Implicit Return):** 표현식의 결과는 자동으로 반환됩니다. 명시적으로 `return` 키워드를 사용할 필요가 없습니다.
4.  **간결성:** 짧은 함수를 정의할 때 코드를 더 간결하게 만들 수 있습니다.

## 3. 람다식의 활용 예시

람다식은 주로 다른 함수의 인자로 전달되어 사용될 때 빛을 발합니다. 특히 `map()`, `filter()`, `sorted()` 같은 고차 함수(higher-order function)와 함께 많이 사용됩니다.

**예시 1: `map()` 함수와 함께 사용**
리스트의 모든 요소에 동일한 연산을 적용할 때 유용합니다.

```python
numbers = [1, 2, 3, 4, 5]
squared_numbers = list(map(lambda x: x * x, numbers))
print(squared_numbers)  # 출력: [1, 4, 9, 16, 25]
```

**예시 2: `filter()` 함수와 함께 사용**
리스트에서 특정 조건을 만족하는 요소만 걸러낼 때 사용합니다.

```python
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)  # 출력: [2, 4, 6, 8, 10]
```

**예시 3: `sorted()` 함수와 함께 `key` 인자로 사용**
복잡한 객체나 튜플의 리스트를 특정 기준에 따라 정렬할 때 유용합니다.

```python
students = [('Alice', 20, 'A'), ('Bob', 22, 'C'), ('Charlie', 19, 'B')]

# 나이를 기준으로 정렬
sorted_by_age = sorted(students, key=lambda student: student[1])
print(sorted_by_age)
# 출력: [('Charlie', 19, 'B'), ('Alice', 20, 'A'), ('Bob', 22, 'C')]
```

## 4. 람다식의 한계

*   **복잡한 로직 불가:** 단일 표현식만 허용하므로, 여러 줄의 코드나 복잡한 조건/반복문이 필요한 경우에는 일반 함수(`def`)를 사용해야 합니다.
*   **가독성 저하 가능성:** 너무 복잡한 람다식을 작성하면 오히려 코드를 이해하기 어려워질 수 있습니다. 이 경우에도 일반 함수를 사용하는 것이 좋습니다.

## 5. 람다식 자체를 직접 실행하는 경우

람다식 자체를 직접 실행시키는 경우는 **자주 있지는 않습니다.** 람다식의 주된 목적은 **다른 함수의 인자로 전달되는 익명 함수**로 사용되는 것입니다.

**왜 직접 실행이 드물까요?**

1.  **이름이 필요 없는 경우:** 만약 함수에 이름이 필요하고, 여러 번 재사용해야 하거나, 로직이 조금이라도 복잡하다면 `def` 키워드를 사용하여 일반 함수를 정의하는 것이 훨씬 가독성이 좋고 유지보수하기 편리합니다.
2.  **단일 표현식의 한계:** 람다식은 단 하나의 표현식만 가질 수 있기 때문에, 복잡한 로직을 수행할 수 없습니다. 직접 실행할 만큼의 복잡한 로직이라면 이미 람다식의 범위를 벗어나는 경우가 많습니다.

**그럼에도 불구하고 직접 실행하는 경우가 있을까요?**

매우 드물지만, 다음과 같은 상황에서는 람다식을 정의하고 바로 실행하는 것을 볼 수 있습니다 (주로 즉시 실행 함수 표현식, IIFE - Immediately Invoked Function Expression과 유사한 형태로):

*   **일회성, 즉석 계산:** 특정 변수나 컨텍스트 내에서 아주 간단한 계산을 한 번만 수행하고 그 결과를 바로 사용해야 할 때.
    ```python
    result = (lambda x, y: x * y)(5, 10)
    print(result) # 50
    ```
*   **클로저(Closure) 생성:** 특정 스코프 내에서 람다식을 정의하고, 그 람다식이 외부 스코프의 변수를 캡처하여 클로저를 형성하는 경우. 이 클로저를 나중에 호출할 수 있습니다.
    ```python
    def make_multiplier(n):
        return lambda x: x * n

    times_five = make_multiplier(5)
    print(times_five(10)) # 50
    ```

**결론적으로,** 람다식은 "이름 없는 작은 함수"가 필요한 곳에 "간편하게 던져주는" 용도로 가장 많이 사용됩니다. 직접 정의하고 바로 실행하는 것은 문법적으로 가능하지만, 파이썬 코드의 일반적인 패턴은 아니며, 대부분의 경우 일반 함수 정의나 직접적인 연산이 더 적절합니다.